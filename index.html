<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Kiosk Simulator - Integrated</title>
<style>
* { box-sizing:border-box; margin:0; padding:0; font-family:'Arial',sans-serif; user-select:none; }
body { display:flex; justify-content:center; align-items:flex-start; height:100vh; background:#f0f0f0; padding:20px; }

.kiosk-container { display:flex; flex-direction:column; align-items:center; position:relative; }

/* Stand _ì—†ëŠ”ê²Œ ë‚˜ì„ë“¯??_ */
.stand {
  background:#fff;
  border-radius:25px;
  width:360px;
  box-shadow:0 15px 40px rgba(0,0,0,0.2);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  transform: translateY(0);
  transition: transform 0.05s linear;
}

/* Top UI */
.top-bar { display:flex; justify-content:space-between; align-items:center; background:#222; color:white; padding:12px 15px;}
.top-bar button { background:#555; color:white; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; font-weight:bold; box-shadow:0 3px 6px rgba(0,0,0,0.3); transition:0.2s;}
.top-bar button:hover { background:#777; }

/* Main Screen */
.main-screen { background:#eaeaea; padding:10px; display:flex; flex-wrap:wrap; gap:10px; justify-content:center; position:relative; }
.tile { flex:1 1 45%; min-width:80px; height:70px; background:#fff; border:1px solid #ccc; border-radius:12px; display:flex; justify-content:center; align-items:center; font-weight:bold; box-shadow:0 5px 10px rgba(0,0,0,0.1); cursor:pointer; transition: transform 0.15s, box-shadow 0.15s; }
.tile:hover { transform: translateY(-3px); box-shadow:0 8px 15px rgba(0,0,0,0.2); }

/* Payment Display */
.payment-display {
  position:absolute;
  top:40%;
  left:50%;
  transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.8);
  color:white;
  padding:10px 20px;
  border-radius:8px;
  font-weight:bold;
  opacity:0;
  transition:opacity 0.3s;
  pointer-events:none;
}

/* ì•„ë˜ í”„ë ˆì„ */
.bottom-frame { display:flex; flex-direction:column; gap:8px; margin-top:10px; border-radius:0 0 20px 20px; position:relative; }

/* ì„ íƒëœ ì•„ì´í…œ */
.selected-items { display:flex; gap:5px; flex-wrap:wrap; min-height:50px; padding:5px; background:#ddd; border-radius:10px; box-shadow: inset 0 -2px 5px rgba(0,0,0,0.2); font-size:14px; }

/* Bottom buttons ë ˆì´ì•„ì›ƒ */
.bottom-buttons { display:flex; justify-content:space-between; gap:5px; padding:10px; background:#ccc; border-top:4px solid #aaa; border-radius:0 0 20px 20px; align-items:center; }

/* Card Slot */
.card-slot { flex:1; background:#888; border-radius:8px; color:white; font-weight:bold; display:flex; justify-content:center; align-items:center; cursor:pointer; position:relative; box-shadow: inset 0 -3px 5px rgba(0,0,0,0.2); overflow:hidden; padding-top:25px; } /* ìŠ¬ë¡¯ ë¶€ë¶„ ì‚´ì§ ëŠ˜ë¦¼ */
.card-slot::before { content:''; position:absolute; top:55%; left:50%; width:80%; height:8px; background:#555; border-radius:3px; transform:translateX(-50%); }

/* Card inside */
.card-insert { 
  position:absolute; 
  width:80%; 
  height:30px; 
  background:linear-gradient(90deg, #3a3a3a, #5a5a5a); 
  border-radius:4px; 
  top:100%; 
  left:10%; 
  transition: transform 0.6s cubic-bezier(0.45, 0, 0.55, 1);
  transform: translateY(0);
}

/* QR Reader */
.qr-reader { flex:1; background:red; border-radius:8px; color:white; font-weight:bold; display:flex; justify-content:center; align-items:center; position:relative; cursor:pointer; box-shadow: inset 0 -3px 5px rgba(0,0,0,0.5);}
.qr-reader::after { content:''; position:absolute; top:10px; left:10px; width:10px; height:10px; background:white; border-radius:50%; animation: blink 1s infinite;}
@keyframes blink { 0%,50%,100% {opacity:1;} 25%,75% {opacity:0;} }

/* Receipt Slot */
.receipt-slot { flex:1; background:#666; border-radius:8px; color:white; font-weight:bold; display:flex; justify-content:center; align-items:flex-start; cursor:pointer; box-shadow: inset 0 -4px 6px rgba(0,0,0,0.5); position:relative; overflow:hidden;}
.receipt-insert { 
  position:absolute; 
  width:70%; 
  height:0; 
  background:#f9f9f9; 
  top:0; 
  border-radius:3px; 
  left:15%; 
  box-shadow:0 4px 8px rgba(0,0,0,0.25),
              inset 0 0 3px rgba(255,255,255,0.7);
  overflow:hidden;
}
@keyframes printReceipt {
  0% {height:0;}
  20% {height:70px;}
  50% {height:150px;}
  75% {height:190px;}
  100% {height:230px;}
}
.receipt-active {
  animation: printReceipt 3.5s cubic-bezier(0.42, 0, 0.25, 1.05) forwards;
}

/* Height Controls */
.height-controls { display:flex; flex-direction:column; gap:5px; margin-left:5px; }
.height-btn { width:50px; height:25px; background:#555; border-radius:6px; color:white; font-weight:bold; display:flex; justify-content:center; align-items:center; cursor:pointer; box-shadow: 0 4px 0 #333, 0 6px 10px rgba(0,0,0,0.2); transition:0.1s;}
.height-btn:active { transform: translateY(4px); box-shadow:0 0px 0 #333,0 6px 10px rgba(0,0,0,0.2); }

/* Font size controls */
.font-controls { display:flex; gap:5px; margin-left:10px; }
.font-btn { width:30px; height:30px; background:#555; color:white; border:none; border-radius:6px; font-weight:bold; cursor:pointer; box-shadow: 0 4px 0 #333; transition:0.1s; }
.font-btn:active { transform: translateY(4px); box-shadow:0 0px 0 #333; }

/* Stand visual */
.stand-visual { width:100px; height:40px; background:#888; margin:10px auto 0 auto; border-radius:10px; transition: transform 0.05s linear; }

/* ë„ì›€ ë²„íŠ¼ */
#help-btn { background:#007BFF; color:white; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; font-weight:bold; box-shadow:0 3px 6px rgba(0,0,0,0.3); transition:0.2s;}
#help-btn:hover { background:#3399FF; }

/* === Pay Button (ì¶”ê°€) === */
#pay-button {
  background:#28a745;
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  display:none;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
}
#pay-button:active { transform: translateY(2px); }

/* === Welcome Overlay === */
#welcome-overlay {
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,#007bff,#0056b3);
  color:white;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:50;
  border-radius:25px;
  cursor:pointer;
}
#welcome-overlay h1 { font-size:30px; margin-bottom:8px; }
#welcome-overlay p { opacity:0.95; font-size:16px; }
</style>
</head>
<body>

<div class="kiosk-container">
  <div class="stand" id="stand">
    <!-- Top -->
    <div class="top-bar">
      <button id="language-btn">ğŸŒ ì–¸ì–´</button>
      <div style="display:flex; gap:5px; align-items:center;">
        <div class="font-controls">
          <button class="font-btn" id="font-up">+</button>
          <button class="font-btn" id="font-down">-</button>
        </div>
        <button id="help-btn">ë„ì›€</button>
      </div>
    </div>

    <!-- Main Screen -->
    <div class="main-screen" id="main-screen">
      <div class="tile">ë©”ë‰´ 1</div>
      <div class="tile">ë©”ë‰´ 2</div>
      <div class="tile">ë©”ë‰´ 3</div>
      <div class="tile">ë©”ë‰´ 4</div>
      <div class="tile">ë©”ë‰´ 5</div>
      <div class="tile">ë©”ë‰´ 6</div>

      <div class="payment-display" id="payment-display">ê²°ì œ ì¤‘...</div>
    </div>

    <!-- Bottom Frame -->
    <div class="bottom-frame">
      <div class="selected-items" id="selected-items">ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ</div>
      <div class="bottom-buttons">
        <div class="card-slot" id="card-slot">
          <div class="card-insert" id="card-insert"></div>
        </div>
        <div class="qr-reader" id="qr-reader">QR</div>
        <div class="receipt-slot" id="receipt-slot">ì˜ìˆ˜ì¦
          <div class="receipt-insert" id="receipt-insert"></div>
        </div>
        <div style="display:flex; align-items:center; gap:6px;">
          <div class="height-controls">
            <div class="height-btn" id="height-up">â–²</div>
            <div class="height-btn" id="height-down">â–¼</div>
          </div>
          <button id="pay-button">ê²°ì œí•˜ê¸°</button>
        </div>
      </div>
      <div class="stand-visual" id="stand-visual"></div>
    </div>
  </div>

  <!-- Welcome Overlay: ì²˜ìŒ í™”ë©´(í„°ì¹˜í•˜ë©´ ì œê±°) -->
  <div id="welcome-overlay">
    <h1>í™˜ì˜í•©ë‹ˆë‹¤</h1>
    <p>í™”ë©´ì„ í„°ì¹˜í•˜ë©´ ì‹œì‘í•©ë‹ˆë‹¤</p>
  </div>
</div>

<script>
const selectedItems = document.getElementById('selected-items');
const stand = document.getElementById('stand');
const standVisual = document.getElementById('stand-visual');
const display = document.getElementById('payment-display');
const cardInsertEl = document.getElementById('card-insert');
const receiptEl = document.getElementById('receipt-insert');
let fontSize = 14;
let heightInterval;

const payButton = document.getElementById('pay-button');
const welcomeOverlay = document.getElementById('welcome-overlay');

// Tile selection
document.querySelectorAll('.tile').forEach(tile=>{
  tile.addEventListener('click', ()=>{
    if(selectedItems.textContent==="ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ") selectedItems.textContent="";
    // í† ê¸€ ë°©ì‹ìœ¼ë¡œ ë°”ê¿ˆ (ì„ íƒ/í•´ì œ)
    // ì´ë¯¸ ì„ íƒë˜ì–´ ìˆìœ¼ë©´ ì œê±°, ì•„ë‹ˆë©´ ì¶”ê°€
    // ë¹„êµëŠ” ë‹¨ìˆœ textë¡œ ì²˜ë¦¬ (ì¤‘ë³µ í—ˆìš© X)
    const existing = Array.from(selectedItems.children).find(c=>c.textContent===tile.textContent);
    if(existing){
      selectedItems.removeChild(existing);
    } else {
      const item = document.createElement('div');
      item.textContent = tile.textContent;
      item.style.background = '#fff';
      item.style.border = '1px solid #ccc';
      item.style.borderRadius = '6px';
      item.style.padding = '2px 6px';
      item.style.fontSize = fontSize+'px';
      item.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
      item.style.cursor='pointer';
      item.addEventListener('click', ()=>{
        selectedItems.removeChild(item);
        if(selectedItems.children.length===0) selectedItems.textContent="ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ";
        updatePayButtonVisibility();
      });
      selectedItems.appendChild(item);
    }
    if(selectedItems.children.length===0) selectedItems.textContent="ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ";
    updatePayButtonVisibility();
  });
});

function updatePayButtonVisibility(){
  if(selectedItems.children.length > 0){
    payButton.style.display = 'inline-block';
  } else {
    payButton.style.display = 'none';
  }
}

// Font controls
document.getElementById('font-up').addEventListener('click', ()=>{
  fontSize += 2; if(fontSize>24) fontSize=24;
  document.querySelectorAll('.tile').forEach(t=>t.style.fontSize=fontSize+'px');
  selectedItems.style.fontSize = fontSize+'px';
});
document.getElementById('font-down').addEventListener('click', ()=>{
  fontSize -= 2; if(fontSize<10) fontSize=10;
  document.querySelectorAll('.tile').forEach(t=>t.style.fontSize=fontSize+'px');
  selectedItems.style.fontSize = fontSize+'px';
});

// Height control
let standPos = 0;
const moveStand = (direction)=>{
  standPos += direction*5;
  if(standPos>150) standPos=150;
  if(standPos<-50) standPos=-50;
  stand.style.transform = `translateY(${standPos}px)`;
  standVisual.style.transform = `translateY(${standPos}px)`;
};

document.getElementById('height-up').addEventListener('mousedown', ()=>{ heightInterval = setInterval(()=>moveStand(-1),10); });
document.getElementById('height-up').addEventListener('mouseup', ()=>clearInterval(heightInterval));
document.getElementById('height-up').addEventListener('mouseleave', ()=>clearInterval(heightInterval));

document.getElementById('height-down').addEventListener('mousedown', ()=>{ heightInterval = setInterval(()=>moveStand(1),10); });
document.getElementById('height-down').addEventListener('mouseup', ()=>clearInterval(heightInterval));
document.getElementById('height-down').addEventListener('mouseleave', ()=>clearInterval(heightInterval));

// ì¹´ë“œ ì‚½ì… â†’ ê²°ì œ í‘œì‹œ â†’ ì˜ìˆ˜ì¦ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
let cardInserted = false;
function performPayment(){
  if(cardInserted) return; // ì´ë¯¸ ê²°ì œ ì¤‘ì´ë©´ ë¬´ì‹œ
  cardInserted = true;

  // ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ (ì›ë³¸ê³¼ ë™ì¼)
  cardInsertEl.style.transform = 'translateY(-120%)';
  display.textContent = 'ê²°ì œ ì¤‘...';
  display.style.opacity = '1';

  setTimeout(()=>{
    display.textContent = 'ê²°ì œ ì™„ë£Œ!';
  }, 2000);

  setTimeout(()=>{
    receiptEl.classList.add('receipt-active');
  }, 2500);

  setTimeout(()=>{
    display.style.opacity = '0';
    cardInsertEl.style.transform = 'translateY(0)';
    setTimeout(()=>{ 
      receiptEl.classList.remove('receipt-active'); 
      receiptEl.style.height='0'; 
      cardInserted = false;
      // ê²°ì œ í›„ ì„ íƒ ì´ˆê¸°í™”
      while(selectedItems.firstChild) selectedItems.removeChild(selectedItems.firstChild);
      selectedItems.textContent = "ì„ íƒí•œ ë©”ë‰´ ì—†ìŒ";
      updatePayButtonVisibility();
    }, 4000);
  }, 6000);
}

// ê²°ì œ ë²„íŠ¼ í´ë¦­ ì‹œ ì•ˆë‚´ alert í›„ ê²°ì œ ì§„í–‰
payButton.addEventListener('click', ()=>{
  alert('ì¹´ë“œ íˆ¬ì…êµ¬ë¥¼ í„°ì¹˜í•˜ì„¸ìš”!');
  // ì‹¤ì œë¡œëŠ” ì‚¬ìš©ìê°€ ì¹´ë“œìŠ¬ë¡¯ì„ í„°ì¹˜í•´ì„œë„ ì‹œì‘í•˜ê²Œ í•˜ë ¤ë©´,
  // card-slot í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì—°ê²°í•´ë„ ë¨. í•˜ì§€ë§Œ ìš”êµ¬ëŒ€ë¡œ alert ì´í›„ ìë™ ì§„í–‰.
  performPayment();
});

// ì›ë³¸ì— ìˆë˜ ì¹´ë“œ ìŠ¬ë¡¯ í´ë¦­(ê¸°ì¡´ ë™ì‘ ë°©ì§€ ë˜ëŠ” ë³´ì¡°ë¡œ ìœ ì§€)
// ì—¬ê¸°ì„œëŠ” ìŠ¬ë¡¯ í´ë¦­ì‹œ ê²°ì œë¥¼ ì§ì ‘ ì‹œì‘í•˜ì§€ ì•Šë„ë¡ ë†”ë‘ (ìš”ì²­ì— ë”°ë¼ í™œì„±í™” ê°€ëŠ¥)
document.getElementById('card-slot').addEventListener('click', ()=>{
  // ë¹„í™œì„±í™” í•´ë‘  â€” ê²°ì œ ë²„íŠ¼ ì¤‘ì‹¬ íë¦„ì„ ë”°ë¦„
  // ë§Œì•½ ìŠ¬ë¡¯ í„°ì¹˜ë¡œë„ ê²°ì œ ì‹œì‘ ì›í•˜ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ:
  // if(selectedItems.children.length>0) { alert('ì¹´ë“œë¥¼ íˆ¬ì…í•´ì£¼ì„¸ìš”'); performPayment(); }
});

// QR + ê¸°íƒ€ ë²„íŠ¼
document.getElementById('qr-reader').addEventListener('click', ()=>alert('QRì½”ë“œë‚˜ ì¿ í°ì„ ì—¬ê¸°ì— ì¸ì‹í•´ ì£¼ì„¸ìš”'));
document.getElementById('language-btn').addEventListener('click', ()=>alert('Language Select'));
document.getElementById('help-btn').addEventListener('click', ()=>alert('ì§ì›ì˜ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'));

// Welcome overlay: ì²˜ìŒ ë“¤ì–´ì˜¤ë©´ ëœ¨ëŠ” í™”ë©´, í„°ì¹˜í•˜ë©´ ì œê±°
welcomeOverlay.addEventListener('click', ()=>{
  welcomeOverlay.style.display = 'none';
  // (ì›í•˜ë©´ ì—¬ê¸°ì— ì´ˆê¸° ìƒíƒœ ë¦¬ì…‹ ì½”ë“œ ì¶”ê°€ ê°€ëŠ¥)
});
</script>

</body>
</html>
